<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Marid IDE</title>
    <link rel="stylesheet" href="//cdn.webix.com/edge/webix.css" type="text/css">
    <script src="//cdn.webix.com/edge/webix.js" type="text/javascript"></script>
</head>
<body>
<div>
    <script th:inline="javascript">
        function login() {
            let form = $$("loginForm");
            webix.ajax().post("/login", form.getValues(), (text, xml, xhr) => {
                window.location = "/";
            });
        }

        webix.ui({
            id: "loginForm",
            view: "form",

            elements: [
                {view: "text", name: "username", label: "User name"},
                {view: "text", name: "password", label: "Password", type: "password"},
                {view: "text", name: [[${_csrf.parameterName}]], value: [[${_csrf.token}]], hidden: true},
                {
                    margin: 5, cols: [
                        {view: "button", label: "Login", type: "form", click: "login"},
                        {view: "button", label: "Cancel"}
                    ]
                }
            ]
        });

        webix.ui.fullScreen();
    </script>
</div>
</body>
</html>